---
const contents = await Astro.glob(
  "./contents/*.md",
)
---

<div
  class="mx-auto max-w-3xl py-6 dark:text-white"
>
  <h2
    class="mb-4 text-3xl font-semibold"
  >
    Experience
  </h2>
  <div
    class="flex w-full flex-col gap-4"
  >
    {
      contents.map((c, idx) => {
        const att =
          idx == 0
            ? { open: "true" }
            : {}
        return (
          <details
            class="w-full"
            {...att}
          >
            <summary
              id={`exp-${idx}`}
              class="flex md:flex-row flex-col w-full p-2 gap-8"
              >
              <div class="flex flex-col md:w-1/3 w-full">
                <h3 class="text-xl font-semibold dark:text-white">
                  {
                    c.frontmatter
                      .company
                  }
                </h3>
                <p class="text-gray-600 dark:text-white opacity-70">
                  {
                    c.frontmatter
                      .position
                  }
                </p>
                <p class="text-gray-600 dark:text-white opacity-70">
                  {c.frontmatter.time}
                </p>
              </div>
              <article class="prose prose-base md:w-2/3 w-ful dark:prose-invert">
                <c.Content />
              </article>
            </summary>
          </details>
        )
      })
    }
  </div>
</div>
