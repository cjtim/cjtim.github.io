---
import { getCollection } from "astro:content"
import Layout from "@layouts/Layout.astro"

export async function getStaticPaths() {
  const blogEntries =
    await getCollection("projects")
  return blogEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }))
}

const { entry } = Astro.props
const { Content } = await entry.render()
---

<Layout
  title={entry.data.title}
  description={entry.data.description}
  image={entry.data.image.url}
>
  <main
    class="w-full bg-gray-100 text-black"
  >
    <div class="h-4"></div>
    <article
      class="mx-auto max-w-screen-md"
    >
      <div
        class="prose prose-base mx-auto my-3
        max-w-screen-md dark:prose-invert prose-a:text-blue-600"
      >
        <Content />

        <!-- Tags -->
        <div
          class="flex w-full flex-wrap items-center gap-3 md:w-auto"
        >
          {
            entry.data.tags.map(
              (tag) => (
                <span class="text-sm text-gray-500">
                  #{tag}
                </span>
              ),
            )
          }
        </div>
      </div>

      <div
        class="flex justify-center pb-7 pt-7"
      >
        <a
          href="/projects"
          class="rounded-md bg-blue-50 px-5 py-3 text-sm text-blue-600 transition hover:scale-105 hover:bg-blue-100 dark:text-blue-500"
        >
          ‚Üê View all projects
        </a>
      </div>
    </article>
  </main>
</Layout>
